# DragonEggLightning Plugin Version Test Story
# This YAML DSL allows non-programmers to write test scenarios

story:
  name: "Plugin Version Validation"
  description: "Test that the DragonEggLightning plugin loads with correct version 1.0.2"

setup:
  server:
    type: "PAPER"
    version: "1.21.8"
    online_mode: false

  players:
    - name: "TestPlayer"
      op: true
      position: [0, 64, 0]
      items:
        - "dragon_egg 1"

steps:
  - name: "Start Server"
    action: "start_server"
    timeout: 300

  - name: "Verify Plugin Loaded"
    action: "check_plugin"
    plugin: "DragonEggLightning"

  - name: "Check Plugin Version via Console"
    action: "execute_command"
    command: "plugins"
    expected_response_contains: "DragonEggLightning"

  - name: "Check Ability Version Command"
    action: "execute_command"
    command: "ability version"
    player: "TestPlayer"
    expected_response_contains: "1.0.2"

  - name: "Verify Command Registration"
    action: "check_command"
    command: "ability"
    expected: "registered"

cleanup:
  action: "stop_server"

expected_results:
  plugin_loads: true
  version_correct: true
  commands_registered: true
